<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TIOVX User Guide: TIOVX Safety Considerations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIOVX User Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('TIOVX_SAFETY_CONSIDERATIONS.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TIOVX Safety Considerations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#TIOVX_SAFETY_USAGE">TIOVX Usage Recommendations for Safety</a><ul><li class="level2"><a href="#TIOVX_SAFETY_USAGE_DELAY">Delay Object Support</a></li>
<li class="level2"><a href="#TIOVX_SAFETY_USAGE_COMPOSITE_OBJECTS">Composite Object Pipelining Support</a></li>
<li class="level2"><a href="#TIOVX_SAFETY_USAGE_MAP_COPY">Safety Implications of TIOVX Map and Copy API Implementation</a></li>
<li class="level2"><a href="#TIOVX_SAFETY_USAGE_FURTHER_INFO">Further information</a></li>
</ul>
</li>
<li class="level1"><a href="#TIOVX_SAFETY_MEMORY_MANAGEMENT">TIOVX Memory Management for Safety</a></li>
<li class="level1"><a href="#TIOVX_SAFETY_RESOURCE_TEARDOWN">TIOVX Resource Teardown</a></li>
<li class="level1"><a href="#TIOVX_SAFETY_IMPORT_REFERENCE">TIOVX Import Reference</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="TIOVX_SAFETY_USAGE"></a>
TIOVX Usage Recommendations for Safety</h1>
<p>When utilizing TIOVX within a safety system, there are a few things to note regarding the implementation of various API's.</p>
<h2><a class="anchor" id="TIOVX_SAFETY_USAGE_DELAY"></a>
Delay Object Support</h2>
<p>The <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/de/d09/group__group__delay.html#ga2c6de63476aff4a009bac8d0eb9800d1">vx_delay</a> objects have limited support within TIOVX, particularly when using them within pipelining. Thus, it is not recommended to use <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/de/d09/group__group__delay.html#ga2c6de63476aff4a009bac8d0eb9800d1">vx_delay</a> objects with pipelining. The section <a class="el" href="TIOVX_PIPELINING.html#TIOVX_PIPELINING_PERFORMANCE_OPTIMIZATION_DELAY_PARAMETERS">Pipelining with Delay Objects</a> provides more details on this limitation and alternative means by which to implement similar functionality.</p>
<h2><a class="anchor" id="TIOVX_SAFETY_USAGE_COMPOSITE_OBJECTS"></a>
Composite Object Pipelining Support</h2>
<p>Similarly, composite objects such as <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/db/d9f/group__group__object__array.html#ga31a0de03c8cbf474afab6efb7bcffddb">vx_object_array</a> and <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/db/d29/group__group__pyramid.html#gad9e43dc4026a9593d63e3e9881b9c4d9">vx_pyramid</a> have certain limitations with pipelining. The section <a class="el" href="TIOVX_PIPELINING.html#TIOVX_PIPELINING_USAGE_CONSIDERATIONS_COMPOSITE_OBJECTS">Pipelining with Composite Objects</a> provides more details on this limitation and alternative means by which to implement similar functionality.</p>
<h2><a class="anchor" id="TIOVX_SAFETY_USAGE_MAP_COPY"></a>
Safety Implications of TIOVX Map and Copy API Implementation</h2>
<p>Per the section <a class="el" href="TIOVX_USAGE_REC.html#TIOVX_USAGE_MAP_COPY_API">Map and Copy API Usage in TIOVX</a>, there are some safety implications for the map and copy API's implementations within TIOVX. Given that these API's allocate memory prior to graph verification, the application developer must by cognizant of this fact when creating the TIOVX-based application. In particular, if using data objects as exemplars or other such elements disconnected from the graph, it is possible that the available memory of the system can be reached prior to the call to <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/d9/d7f/group__group__graph.html#gaa815ffa0b7cc2598d3d53bffc7c8c154">vxVerifyGraph</a> and thus should be taken into account when designing the system.</p>
<h2><a class="anchor" id="TIOVX_SAFETY_USAGE_FURTHER_INFO"></a>
Further information</h2>
<p>For full details, please reference the TIOVX usage sections at the location <a class="el" href="TIOVX_USAGE.html">TIOVX Usage</a></p>
<h1><a class="anchor" id="TIOVX_SAFETY_MEMORY_MANAGEMENT"></a>
TIOVX Memory Management for Safety</h1>
<p>A critical component of safety SW systems is the memory management scheme. Please reference the section <a class="el" href="TIOVX_MEMORY_MANAGEMENT.html#TIOVX_MEMORY_MANAGEMENT_OPTIMIZATIONS">TIOVX Memory Optimizations</a> for details on how memory management is handled in TIOVX and how it facilitates safety.</p>
<h1><a class="anchor" id="TIOVX_SAFETY_RESOURCE_TEARDOWN"></a>
TIOVX Resource Teardown</h1>
<p>For applications created using TIOVX as the middleware, the resource teardown shall be considered in the development of the applications. While TIOVX provides API's to release references that have previously been created, this logic must be called in the case that an event is received at the application level which causes an abort. Signal handler logic should handle the teardown of OpenVX data objects that had previously been created. The implementation of this logic will depend on the OS used by the OpenVX host core. Future versions of TIOVX and the PSDK RTOS will contain examples which illustrate how this can be done.</p>
<h1><a class="anchor" id="TIOVX_SAFETY_IMPORT_REFERENCE"></a>
TIOVX Import Reference</h1>
<p>The <a class="el" href="group__group__tivx__ext__host.html#ga624fdc5a1923380d531aa5434ca9ee57">tivxReferenceImportHandle</a> API has several important restrictions in how it is to be used within TIOVX. The API guide gives details as to the requirements of the imported handle, which must be adhered to. In particular, there are a few important aspects of the imported handles that need to be reviewed below:</p>
<ul>
<li>Memory region requirements. An error is thrown if the memory is not created from the region specified</li>
<li>Memory alignment requirements. While there is not a check for this given that it is simply a memory address, the API is required to be used for memory allocation will automatically align the memory to the required alignment</li>
<li>There is an error thrown if the corresponding number of entries doesn't match a set of number of valid addressesIf the total number of memory pointers are less than required for the reference (i.e., there are 2 pointers for a 3 plane image), then an error will be thrown.</li>
<li>If more pointers are supplied than are needed (i.e., 4 pointers for a 3 plane image), then only a warning will be thrown and the additional pointers are ignored.</li>
</ul>
<p>For more information about how to use this API, please refer to the Producer/Consumer application within vision_apps as well as the test cases found at tiovx/conformance_tests/test_tiovx/test_tivxMem.c </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="REFERENCES.html">User Resources</a></li><li class="navelem"><a class="el" href="TIOVX_SAFETY.html">TIOVX Safety Manual</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
