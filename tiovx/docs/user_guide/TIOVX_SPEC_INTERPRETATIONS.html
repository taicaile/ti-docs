<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TIOVX User Guide: OpenVX Standard Specification Interpretations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIOVX User Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('TIOVX_SPEC_INTERPRETATIONS.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">OpenVX Standard Specification Interpretations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_OVX1_1_SPEC">OpenVX 1.1 Specification: Vendor-specific implementation details broken down by section</a></li>
<li class="level1"><a href="#TIVX_NAMESPACE">TIVX Namespace Naming convention</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_CONTEXT_CREATION">Context Creation</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_VALID_REGION">Valid Region</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_OBJ_DATA_MAPPING">Data Object Mapping</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_TENSOR">Tensor Object</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_USER_DATA_OBJECT">User Data Object</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_REQUIRED_PARAMETERS">Required Node Parameters</a></li>
<li class="level1"><a href="#VXREMOVEKERNEL">vxRemoveKernel</a></li>
<li class="level1"><a href="#VXGETCONTEXT">vxGetContext</a></li>
<li class="level1"><a href="#TIOVX_SPEC_INTERPRETATIONS_CREATE_OBJ_ARR">Object Array and Object Array Elements</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_OVX1_1_SPEC"></a>
OpenVX 1.1 Specification: Vendor-specific implementation details broken down by section</h1>
<ul>
<li>Section 2.10.2: User Kernels Naming Conventions<ul>
<li>TI's vendor ID is VX_ID_TI</li>
<li>TI user kernel strings begin with "com.ti"</li>
<li>TI user kernel enums begin with TIVX_KERNEL_</li>
<li>The ':' character is reserved in TI's implementation, so a user kernel shall not use a ':' as part of the kernel name string.</li>
</ul>
</li>
<li>Section 2.12: Targets<ul>
<li>TI's targets can be found at &lt;TIOVX_PATH&gt;/include/TI/tivx.h</li>
</ul>
</li>
<li>Section 2.18.1: Extending Attributes<ul>
<li>TI's vendor extension ID is VX_ID_TI</li>
</ul>
</li>
<li>Section 2.18.2: Vendor Custom Kernels<ul>
<li>Further documentation is provided for any custom kernel extension</li>
</ul>
</li>
<li>Section 2.18.3: Vendor Custom extensions<ul>
<li>TI does not currently support any custom extensions of the form mentioned in this section. See ti extensions as part of this API documentation.</li>
</ul>
</li>
<li>Section 2.18.4: Hinting<ul>
<li>TI does not currently support any custom hints </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="TIVX_NAMESPACE"></a>
TIVX Namespace Naming convention</h1>
<ul>
<li>TI's naming convention append "tivx" to the front of a given object. For example, a TI extension of the df_image_e is called "tivx_df_image_e".</li>
<li>TI's enumeration values append "TIVX" to the front of an enum. For example, a TI-specific target host is called TIVX_TARGET_HOST. </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_CONTEXT_CREATION"></a>
Context Creation</h1>
<ul>
<li>The TI Implementation of OpenVX supports the creation of a single context per process running on the host CPU. Additional calls to vxCreateContext beyond the initial call from that process will simply return a reference to the initially created context.</li>
<li>Furthermore, the TIVX_CONTEXT_MAX_OBJECTS does not take effect. It merely provides the value of the amount of contexts that are allowed per process, namely 1. </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_VALID_REGION"></a>
Valid Region</h1>
<ul>
<li>The valid regions for each kernel are set prior to graph verification and restrictions to valid regions are propagated to downstream kernels during the initialize callbacks of each kernel.</li>
<li>After graph verification, the valid regions for each kernel have been set.</li>
<li>Therefore, following graph verification, changes to the valid region using vxSetImageValidRectangle must not be made. </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_OBJ_DATA_MAPPING"></a>
Data Object Mapping</h1>
<ul>
<li>The following functions are used for mapping of specific data objects:<ul>
<li>vxMapArrayRange</li>
<li>vxMapImagePatch</li>
<li>tivxMapTensorPatch</li>
</ul>
</li>
<li>The types of mapping supported for these functions are the following:<ul>
<li>VX_READ_ONLY</li>
<li>VX_READ_AND_WRITE</li>
<li>VX_WRITE_ONLY</li>
</ul>
</li>
<li>The framework allows multiple mappings of the same region of a given data object.</li>
<li>Therefore, the user must be aware of the regions that have been mapped and the read/write privileges that each mapping has been granted. </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_TENSOR"></a>
Tensor Object</h1>
<ul>
<li>Each tensor is mapped to a single contiguous buffer, of size = stride[number_of_dimensions - 1U] * dimensions[number_of_dimensions - 1U] </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_USER_DATA_OBJECT"></a>
User Data Object</h1>
<ul>
<li>The user data objects included as a part of the OpenVX User Data Object Extension allow you to create an OpenVX data object from a custom data structure. If the custom data structure were to include OpenVX data objects itself, the framework would not be able to recognize this fact and thus would not allocate the data buffers corresponding to that data object and would not assign object descriptors to the references included in the structure. Also, these OpenVX data object handles are not recognized on remote targets due to the framework not performing memory pointer translation, as well as missing host APIs on remote cores. For expert users, this allocation and assignment could be done manually within the application, but it is not recommended. </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_REQUIRED_PARAMETERS"></a>
Required Node Parameters</h1>
<ul>
<li>The OpenVX 1.3 specification allows for required parameters to be NULL during create time as per the last paragraph in the below portion of the specification:<ul>
<li><a href="https://www.khronos.org/registry/OpenVX/specs/1.3/html/OpenVX_Specification_1_3.html#sec_graph_verification">https://www.khronos.org/registry/OpenVX/specs/1.3/html/OpenVX_Specification_1_3.html#sec_graph_verification</a></li>
</ul>
</li>
<li>However, given that TI OpenVX supports the 1.1 specification, the required parameters must be non-NULL during create time. </li>
</ul>
<h1><a class="anchor" id="VXREMOVEKERNEL"></a>
vxRemoveKernel</h1>
<ul>
<li>The OpenVX 1.1 specification for <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/da/d83/group__group__user__kernels.html#gaf286ac22fd6267fb2b39f293e51d3be3">vxRemoveKernel</a> states that it returns a VX_FAILURE "If the application has not released all references to the kernel object OR if the application has not released all references to a node that is using this kernel OR if the application has not released all references to a graph which has nodes that is using this kernel."</li>
<li>The TI implementation is more relaxed than this and does not return <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/d4/dae/group__group__basic__features.html#ggaa2387ff4d3e967f124fb316300503f92aba96d53bf16634d2fbfd1a1c72623726">VX_FAILURE</a> due to any of these conditions. Instead, we make use of reference counting such that it is allowed to call this function prior to the application or other objects still retaining references. Calling <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/da/d83/group__group__user__kernels.html#gaf286ac22fd6267fb2b39f293e51d3be3">vxRemoveKernel</a> will mark the kernel to be removed when all references are released, either at the time of calling <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/da/d83/group__group__user__kernels.html#gaf286ac22fd6267fb2b39f293e51d3be3">vxRemoveKernel</a>, or at a later time in the application teardown process.</li>
<li>This removes a burden of order of releasing references from the application, and is carried by the framework, which is consistent with how other OpenVX objects are defined to work. </li>
</ul>
<h1><a class="anchor" id="VXGETCONTEXT"></a>
vxGetContext</h1>
<ul>
<li>The OpenVX 1.1 specification for <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/d1/dc3/group__group__context.html#ga9460f896a3b8a423d77467a2213b057f">vxGetContext</a> does not state the return value in the case that a <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/d1/dc3/group__group__context.html#ga0f4f894d935fbf50bf38b3529a001249">vx_context</a> is provided to this function</li>
<li>For TI's implementation of OpenVX 1.1, the <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/d1/dc3/group__group__context.html#ga9460f896a3b8a423d77467a2213b057f">vxGetContext</a> will return the same <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/d1/dc3/group__group__context.html#ga0f4f894d935fbf50bf38b3529a001249">vx_context</a> supplied as a parameter to this function. </li>
</ul>
<h1><a class="anchor" id="TIOVX_SPEC_INTERPRETATIONS_CREATE_OBJ_ARR"></a>
Object Array and Object Array Elements</h1>
<ul>
<li>After creating a vx_object_array using <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/db/d9f/group__group__object__array.html#ga283fc2b5e0c56d323d7deadfe4f62bb9">vxCreateObjectArray</a> and obtaining a vx_object_array element using <a class="elRef" doxygen="/home/dockeruser/psdk_installer_build_top_workarea/scratch_workarea/staging_area/tiovx/tiovx_dev/internal_docs/doxy_cfg_user_guide/openvx.tag:https://www.khronos.org/registry/OpenVX/specs/1.1/html/" href="https://www.khronos.org/registry/OpenVX/specs/1.1/html/db/d9f/group__group__object__array.html#ga55cdf3d80a55136be8f5067e3dc965ed">vxGetObjectArrayItem</a>, both the vx_object_array element and the vx_object_array itself must be released in order to avoid having a dangling reference when releasing the OpenVX context.</li>
<li>The order in which the vx_object_array and the vx_object_array elements are to be released is not mandated by the framework </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="REFERENCES.html">User Resources</a></li><li class="navelem"><a class="el" href="TIOVX_USAGE.html">TIOVX Usage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
