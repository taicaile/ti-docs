<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>MMALIB User Guide: MMALIB_CNN_convolveBias_row_ixX_ixX_oxX</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MMALIB User Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__MMALIB__CNN__convolveBias__row__ixX__ixX__oxX.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MMALIB_CNN_convolveBias_row_ixX_ixX_oxX<div class="ingroups"><a class="el" href="group__MMALIB__CNN.html">Convolutional Neural Networks (CNN) kernels</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Kernel for computing dense CNN convolution with row based processing. </p>
<ul>
<li>Strided and non-strided convolution are supported</li>
<li>Kernel requires data to be available in memory for coefficients and feature map</li>
<li>Kernel writes output feature map into memory</li>
<li>Kernel performs on the fly padding and feature maps are not required to be padded in memory</li>
<li>Strided convolution is optimized for 1x1 stride 2, 3x3 stride 2, 3x3 stride 3, 5x5 stride 2, 7x7 stride 2, 11x11 stride 4</li>
<li>The input feature maps are 8 bit, 16 bit signed or unsigned</li>
<li>The weights are 8 bit, 16 bit signed</li>
<li>The output feature maps are 8 bit, 16 bit signed or unsigned</li>
<li>The bias is loaded in a array for each output feature map as 32bit precision for 8 bit and 64bit precision for 6bit</li>
<li>The output of each feature map can be scaled(8 bit) and shift(8 bit) after accumulation</li>
<li>Programmable saturation is supported on the output values</li>
</ul>
<p>The input feature maps are passed to a kernel with all the rows are next to each other. All the input feature maps of same number of pixels fed into the kernel buffer. When starting processing the feature maps can start at a given column -&gt; col parameter of a row and kernel will start processing from the intermediate location using the parameter.</p>
<div class="image">
<object type="image/svg+xml" data="ConvolveBias.svg" style="pointer-events: none;"></object>
<div class="caption">
Input buffer for strided and non strided convolution</div></div>
<div class="image">
<object type="image/svg+xml" data="rowFlow.svg" style="pointer-events: none;"></object>
<div class="caption">
starting location with col parameter</div></div>
<p>The filter coeffieint buffer for each output feature map is layer out in a linear manner with Ni*Fr*Fc values. The dilated kernel coefficients are used without the dilated zero values.</p>
<div class="image">
<object type="image/svg+xml" data="ConvolveBias_filter.svg" style="pointer-events: none;"></object>
<div class="caption">
Filter coefficients buffer</div></div>
<p>The kernel requires multiple handles for a given feature maps which will be prestored in the L1D memory. For a givn CNN layer these handles will be fixed. There are three categories of these handles</p><ul>
<li>Top row handles which require top pad, right pad and left pad</li>
<li>Middle row handles which require right pad and left pad</li>
<li>Bottom row handle which require right pad, left pad and bottom pad</li>
<li>The top row handles will require the starting pointer srcPtr to be at the beginning of the first pixel of the feature map with "col" location provided</li>
<li>The middle row handles can have the pointer starting at any location with "col" location provided</li>
<li>The bottom row handles can have the pointer starting at any location with "col" location provided and also validColsOutBottom as input to the kernel</li>
</ul>
<div class="image">
<object type="image/svg+xml" data="3x3stride1_row.svg" style="pointer-events: none;"></object>
<div class="caption">
Examples of parameters for a different handles for 3x3 stride 1 convolution</div></div>
<p>Strided convolution</p><ul>
<li>The strided convolution will have all the handles to starting pointer srcPtr at the first pixel of the row.</li>
<li>Strided convolution generates complete row for a kernel call</li>
<li>The handles for top row, middle row and bottom row will be different</li>
</ul>
<div class="image">
<object type="image/svg+xml" data="3x3stride2_row.svg" style="pointer-events: none;"></object>
<div class="caption">
Examples of parameters for a different handles for 3x3 stride 2 convolution</div></div>
 </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
