<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>MMALIB User Guide: MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX_processWeights.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MMALIB User Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX_processWeights.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMMALIB__CNN__fullyConnectedBias__processWeights__Args.html">MMALIB_CNN_fullyConnectedBias_processWeights_Args</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure holds all the input parameters for reordering CNN filter weights.  <a href="structMMALIB__CNN__fullyConnectedBias__processWeights__Args.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1d54ce8e5016d05babf0a026341e4294"><td class="memItemLeft" align="right" valign="top"><a class="el" href="MMALIB__types_8h.html#a524ecc5a77b7add4692655a766f0ccae">MMALIB_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html#a1d54ce8e5016d05babf0a026341e4294">MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX_reorderWeights</a> (int32_t mmaSize, int32_t NiBias, int32_t No, uint32_t strideOut, const void *restrict pWeights, void *restrict pReorderWeights)</td></tr>
<tr class="memdesc:a1d54ce8e5016d05babf0a026341e4294"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function re-orders the input weights (kernel matrix). Reordering of data is required to alleviate potential bank conflicts arising when the kernel matrix is accessed in L2 via SE1 in conjunction with data transfer from MSMC to L2 via DMA. The current re-ordering scheme results in a bank-acess pattern of {0,0,1,1,2,2,3,3,0,0,1,1,2,2,3,3, ...} for SE1.  <a href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html#a1d54ce8e5016d05babf0a026341e4294">More...</a><br /></td></tr>
<tr class="separator:a1d54ce8e5016d05babf0a026341e4294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33c50209b6540bedcba14df14820f0c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html#ad33c50209b6540bedcba14df14820f0c">MMALIB_CNN_fullyConnectedBias_processWeights_getMemorySize</a> (const <a class="el" href="structMMALIB__CNN__fullyConnectedBias__processWeights__Args.html">MMALIB_CNN_fullyConnectedBias_processWeights_Args</a> *pArgs, const void *restrict pWeights)</td></tr>
<tr class="memdesc:ad33c50209b6540bedcba14df14820f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the amount of memory that needs to be allocated for reordered kernel coefficients needed to support <a class="el" href="group__MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX.html">MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX</a>.  <a href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html#ad33c50209b6540bedcba14df14820f0c">More...</a><br /></td></tr>
<tr class="separator:ad33c50209b6540bedcba14df14820f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1045cbab2508012970099447b371fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="MMALIB__types_8h.html#a524ecc5a77b7add4692655a766f0ccae">MMALIB_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html#a0c1045cbab2508012970099447b371fc">MMALIB_CNN_fullyConnectedBias_processWeights_reorder</a> (const <a class="el" href="structMMALIB__CNN__fullyConnectedBias__processWeights__Args.html">MMALIB_CNN_fullyConnectedBias_processWeights_Args</a> *pArgs, const void *restrict pWeights, void *restrict pReordered_Weights)</td></tr>
<tr class="memdesc:a0c1045cbab2508012970099447b371fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a set of weights and reorders them for use in computing convolve row flow convolution.  <a href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html#a0c1045cbab2508012970099447b371fc">More...</a><br /></td></tr>
<tr class="separator:a0c1045cbab2508012970099447b371fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1d54ce8e5016d05babf0a026341e4294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d54ce8e5016d05babf0a026341e4294">&#9670;&nbsp;</a></span>MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX_reorderWeights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="MMALIB__types_8h.html#a524ecc5a77b7add4692655a766f0ccae">MMALIB_STATUS</a> MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX_reorderWeights </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>mmaSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>NiBias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>No</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>strideOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *restrict&#160;</td>
          <td class="paramname"><em>pWeights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *restrict&#160;</td>
          <td class="paramname"><em>pReorderWeights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function re-orders the input weights (kernel matrix). Reordering of data is required to alleviate potential bank conflicts arising when the kernel matrix is accessed in L2 via SE1 in conjunction with data transfer from MSMC to L2 via DMA. The current re-ordering scheme results in a bank-acess pattern of {0,0,1,1,2,2,3,3,0,0,1,1,2,2,3,3, ...} for SE1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mmaSize</td><td>: Size of MMA for given test case<ul>
<li>64 for 8-bit datatype</li>
<li>32 for 16-bit datatype </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NiBias</td><td>: Ni (number of input channels) + Bias columns </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">No</td><td>: Number of output channels </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">strideOut</td><td>: Stride of matrix after re-ordering </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pWeights</td><td>: Pointer for input weights </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pReorderWeights</td><td>: Pointer for ouput weights after re-ordering</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating success or failure. Refer to <a class="el" href="MMALIB__types_8h.html#a5ac17edd562b272de3fc8f09dd747073">MMALIB_STATUS</a>. </dd></dl>

</div>
</div>
<a id="ad33c50209b6540bedcba14df14820f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad33c50209b6540bedcba14df14820f0c">&#9670;&nbsp;</a></span>MMALIB_CNN_fullyConnectedBias_processWeights_getMemorySize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t MMALIB_CNN_fullyConnectedBias_processWeights_getMemorySize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structMMALIB__CNN__fullyConnectedBias__processWeights__Args.html">MMALIB_CNN_fullyConnectedBias_processWeights_Args</a> *&#160;</td>
          <td class="paramname"><em>pArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *restrict&#160;</td>
          <td class="paramname"><em>pWeights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the amount of memory that needs to be allocated for reordered kernel coefficients needed to support <a class="el" href="group__MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX.html">MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArgs</td><td>: Pointer to the structure containing the required dimensional information</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes required to store the reordered kernel coefficients</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Application is expected allocate this amount of memory for kernel coefficients </dd></dl>

</div>
</div>
<a id="a0c1045cbab2508012970099447b371fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c1045cbab2508012970099447b371fc">&#9670;&nbsp;</a></span>MMALIB_CNN_fullyConnectedBias_processWeights_reorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="MMALIB__types_8h.html#a524ecc5a77b7add4692655a766f0ccae">MMALIB_STATUS</a> MMALIB_CNN_fullyConnectedBias_processWeights_reorder </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structMMALIB__CNN__fullyConnectedBias__processWeights__Args.html">MMALIB_CNN_fullyConnectedBias_processWeights_Args</a> *&#160;</td>
          <td class="paramname"><em>pArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *restrict&#160;</td>
          <td class="paramname"><em>pWeights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *restrict&#160;</td>
          <td class="paramname"><em>pReordered_Weights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes a set of weights and reorders them for use in computing convolve row flow convolution. </p>
<p>The function can receive the kernel weights a priori.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArgs</td><td>: Pointer to argument structure containing necessary parameters for reordering weights </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pWeights[]</td><td>: Pointer to buffer holding naturally ordered convolution weights </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pReordered_Weights[]</td><td>: Pointer to buffer holding the reordered weights output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of success or error with error codes, refer to <a class="el" href="MMALIB__types_8h.html#a5ac17edd562b272de3fc8f09dd747073">MMALIB_STATUS</a>.</dd></dl>
<dl class="section user"><dt>Performance Considerations:</dt><dd><ul>
<li>This function may either be called during the processing flow, or offline whenever the weights are known. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_46079174fecd82ead33d8fa28082a6fc.html">ti</a></li><li class="navelem"><a class="el" href="dir_60bb82c14a2e3259538aea39d340c72d.html">mmalib</a></li><li class="navelem"><a class="el" href="dir_6d83175ff1cb9a2b2b50543904254c1c.html">src</a></li><li class="navelem"><a class="el" href="dir_2d8ccb611749fe778c19ac30a37298f9.html">cnn_c7xmma</a></li><li class="navelem"><a class="el" href="dir_c4e0e4789eef2e2d29ac90352fc1632a.html">MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX</a></li><li class="navelem"><a class="el" href="MMALIB__CNN__fullyConnectedBias__ixX__ixX__oxX__processWeights_8h.html">MMALIB_CNN_fullyConnectedBias_ixX_ixX_oxX_processWeights.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
