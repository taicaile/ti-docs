<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>MCUSW: Mcu User Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MCUSW
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ug_mcu_top.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Mcu User Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="ug_mcu_intro"></a>
Introduction</h1>
<p>This document details AUTOSAR BSW MCU module implementation</p><ul>
<li>Supported AUTOSAR Release <b>: 4.3.1</b></li>
<li>Supported Configuration Variants <b>: Pre-Compile &amp; Post-Build </b></li>
<li>Vendor ID <b>: MCU_VENDOR_ID (44)</b></li>
<li>Module ID <b>: MCU_MODULE_ID (101)</b></li>
</ul>
<p>The MCU module initializes, configures and controls the internal hardware to realize MCU driver as detailed in AUTOSAR BSW MCU Driver Specification. The MCU functionality is realized through the CLOCK IP available on the device. Following section highlights key aspects of this implementation, which would be of interest to an integrator.</p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_design"></a>
Mcu Driver Architecture/Design</h1>
<p>Please refer the MCU design, which is included as part of release (<a class="el" href="design_mcu_top.html">Mcu Design Document</a>)</p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_functional_top"></a>
Functional Description</h1>
<p>The MCU driver provides MCU services for Clock and RAM initialization. In the MCU configuration set, the MCU specific settings for the Clock (i.e. PLL setting) and RAM (i.e. section base address and size) shall be configured.</p>
<p>The Mcu driver provides the following features:</p>
<ul>
<li>The MCU module shall provide a service for software triggering of a reset.</li>
<li>The MCU module shall provide services to get the reset reason of the last reset.</li>
<li>Mcu shall provide a service to enable and set the MCU clock. (Peripherals - ADC, GPIO, TIMER, RTI, MCSPI, ECAP, OSPI, EPWM, CDD IPC ,MCAN)</li>
</ul>
<h2><a class="anchor" id="ug_mcu_functional_dmsc"></a>
DMSC</h2>
<ul>
<li>DMSC(Device Management Security Controller) hosts the DMSC firmware.</li>
<li>Any request for setting up clock frequencies for a peripheral should come to DMSC via scilient.</li>
<li>DMSC firmware should be loaded by the SBL.</li>
</ul>
<h2><a class="anchor" id="ug_mcu_functional_sciclient"></a>
SCI-CLIENT</h2>
<p>Sciclient(System Controller Interface Client) APIs are used by application to request DMSC for clock request.</p>
<h2><a class="anchor" id="ug_mcu_functional_clocks"></a>
Clocks</h2>
<p>The Clocks and PLLs are expected to be controlled and programmed by DMSC by using the sciclient APIs.</p>
<h3><a class="anchor" id="ug_mcu_functional_clocks_clockmapping2cpu"></a>
Mapping of Clocks to CPU/Compute cores</h3>
<ul>
<li>To be configured by DMSC Firmware. The request is raised by SBL via SciClient.</li>
<li>Not expected to change until next power cycle</li>
</ul>
<h3><a class="anchor" id="ug_mcu_functional_clocks_clockmapping2peripheral"></a>
Mapping of Clocks to Peripherals</h3>
<ul>
<li>Configured by DMSC Firmware.</li>
<li>Request raised by a SCI Client API on local core.</li>
<li>Typically done at start up.</li>
<li>Not expected to change until next power cycle.</li>
</ul>
<p>The example application demonstrates configuring clock sources for CLOCK module.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_functional_cfg"></a>
Configuration</h2>
<p>The Mcu Driver implementation supports multiple configuration variants (refer section <a class="el" href="ug_mcu_top.html#ug_mcu_intro">Introduction</a>), the driver expects generated <b><a class="el" href="Mcu__Cfg_8h.html" title="This file contains generated pre compile configuration file for MCU MCAL driver.">Mcu_Cfg.h</a> </b> to be present as (<a class="el" href="ug_mcu_top.html#ug_mcu_functional_filestruct_top">File Structure</a>). Please refer (<a class="el" href="mcusw_c_ug_top.html#mcusw_build_top">Build</a>) to specify path to generated configuration. The associated Mcu configuration generated files <b>Mcu_Cfg.c</b> and <b>Mcu_PBcfg.c</b> to be present as shown (<a class="el" href="ug_mcu_top.html#ug_mcu_functional_filestruct_top">File Structure</a>)</p>
<p>The following section details on the un-supported/restricted features and additional features added.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="ug_mcu_functional_cfg_v"></a>
Variance / Deviation from the specification</h3>
<h4><a class="anchor" id="ug_mcu_functional_cfg_v_restricted"></a>
APIs with restricted functionality</h4>
<p>APIs (listed below) are dummy.</p><ul>
<li>Mcu_InitRamSection</li>
<li>Mcu_DistributePllClock</li>
<li>Mcu_GetPllStatus</li>
<li>Mcu_GetRamState</li>
</ul>
<p>APIs (listed below) are implemented with restrictions.</p><ul>
<li><a class="el" href="Mcu_8h.html#afeac1d8a199be177ab5df8570cc97677" title="This service activates the MCU power modes.">Mcu_SetMode()</a> - Only one mode is supported i.e. <b>NOMINAL</b> mode</li>
</ul>
<p>Note- McuRamSectionWriteSize is not supported as <a class="el" href="Mcu_8h.html#a6ba6eba3554ce7f07d38071a1d113fdf" title="This service initializes the RAM section wise.">Mcu_InitRamSection()</a> is a dummy API.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="ug_mcu_functional_i_cfg"></a>
Implementation Specific Configurations</h3>
<p>This driver implementation introduces below listed configurable options</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
<h4><a class="anchor" id="ug_mcu_functional_i_cfg_cbk"></a>
McuCBKFunction</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>Mcu_CBK_Function  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>This Callback function will be defined in the application to perform the functionality. The User has to define this function.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuModuleConfiguration  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE &amp; VARIANT-POST-BUILD  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h4><a class="anchor" id="ug_mcu_functional_i_cfg_var"></a>
McuDeviceVariant</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>McuDeviceVariant  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>Used to specific family of devices, the variant of the device being used will belong one or more family of devices. Please refer (<a class="el" href="mcusw_c_ug_top.html#mcusw_supported_family">Supported Device Families</a>) to determine the family of device.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuGeneral  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Range</b></em> </td><td>TDA4x, etc… (new family of devices could be added in future)  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h4><a class="anchor" id="ug_mcu_functional_i_cfg_reset"></a>
McuResetMode</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>McuResetMode  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>This shall allow the user to select between or WARM/ COLD reset.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuModuleConfiguration  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Range</b></em> </td><td>WARM &amp; COLD  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE &amp; VARIANT-POST-BUILD  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h4><a class="anchor" id="ug_mcu_functional_i_cfg_domain"></a>
Domain</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>Domain  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>User can select the Domain of a peripheral.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuClockSettingConfig  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Range</b></em> </td><td>MCU , MAIN &amp; WKUP  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE &amp; VARIANT-POST-BUILD  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h4><a class="anchor" id="ug_mcu_functional_i_cfg_clkmodule"></a>
McuClockModuleId</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>McuClockModuleId  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>User can select the module id for peripheral.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuClockSettingConfig  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE &amp; VARIANT-POST-BUILD  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h4><a class="anchor" id="ug_mcu_functional_i_cfg_clksrc"></a>
McuClockSourceId</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>McuClockSourceId  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>User can select the clock source id for a peripheral.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuClockSettingConfig  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE &amp; VARIANT-POST-BUILD  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h4><a class="anchor" id="ug_mcu_functional_i_cfg_clkinitflag"></a>
McuClockInitializationConfigFlag</h4>
<table class="doxtable">
<tr>
<td><em><b>Name</b></em> </td><td>McuClockInitializationConfigFlag  </td></tr>
<tr>
<td><em><b>Description</b></em> </td><td>User can switch the configuration flag ON/OFF.   </td></tr>
<tr>
<td><em><b>Container Name</b></em> </td><td>McuClockSettingConfig  </td></tr>
<tr>
<td><em><b>Type</b></em> </td><td>Enumeration  </td></tr>
<tr>
<td><em><b>Value Configuration Class</b></em> </td><td>VARIANT-PRE-COMPILE &amp; VARIANT-POST-BUILD  </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_functional_cfg_build"></a>
Build and Running the Example Application</h2>
<p>Please follow steps detailed in section (<a class="el" href="mcusw_c_ug_top.html#mcusw_build_top">Build</a>) to build library or example</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_functional_run_example"></a>
Steps to run example application</h2>
<p>Please follow steps detailed in section (<a class="el" href="mcusw_c_ug_top.html#mcusw_build_top">Build</a>) to build example</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_functional_cfg_memmap"></a>
Memory Mapping</h2>
<p>Various objects of this implementation (e.g. variables, functions, constants) are defined under different sections. The linker command file at (<a class="el" href="mcusw_c_ug_top.html#mcusw_build_eg_linker">Examples Linker File (Select memory location to hold example binary)</a>) defines separate section for these objects. When the driver is integrated, its expected that these sections are created and placed in appropriate memory locations. (Locations of these objects depend on the system design and performance needs)</p>
<table class="doxtable">
<tr>
<td><em><b>Section</b></em> </td><td><em><b> MCU_CODE</b></em> </td><td><em><b> MCU_VAR_INIT</b></em> </td><td><em><b> MCU_VAR_NOINIT</b></em> </td><td><em><b> MCU_CONST</b></em> </td><td><em><b> MCU_CONFIG</b></em>  </td></tr>
<tr>
<td><em><b>MCU_START_SEC_VAR_INIT_UNSPECIFIED (.data)</b></em> </td><td></td><td>USED  </td><td></td><td></td><td></td></tr>
<tr>
<td><em><b>MCU_DATA_INIT_32_SECTION </b></em> </td><td></td><td>USED  </td><td></td><td></td><td></td></tr>
<tr>
<td><em><b>MCU_TEXT_SECTION </b></em> </td><td>USED  </td><td></td><td></td><td></td><td></td></tr>
<tr>
<td><em><b>MCU_DATA_NO_INIT_UNSPECIFIED_SECTION </b></em> </td><td></td><td></td><td>USED  </td><td></td><td></td></tr>
<tr>
<td><em><b>MCU_CONST_32_SECTION </b></em> </td><td></td><td></td><td></td><td>USED  </td><td></td></tr>
<tr>
<td><em><b>MCU_ISR_TEXT_SECTION </b></em> </td><td>USED  </td><td></td><td></td><td></td><td></td></tr>
<tr>
<td><em><b>MCU_CONFIG_SECTION </b></em> </td><td></td><td></td><td></td><td></td><td>USED   </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="ug_mcu_functional_cfg_cache"></a>
Cache</h3>
<p>This driver implementation has been validated with cache enabled. For optimal performance it’s recommended to place (<a class="el" href="ug_mcu_top.html#ug_mcu_functional_cfg_memmap">Memory Mapping</a>) sections in cache enabled memory area.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_functional_dep_top"></a>
Dependencies on SW Modules</h2>
<hr/>
 <h3><a class="anchor" id="ug_mcu_functional_dep_det"></a>
DET</h3>
<p>This implementation depends on the DET in order to report development errors and can be turned OFF. Refer section (<a class="el" href="ug_mcu_top.html#ug_mcu_error_dev">Development Error Reporting</a>) for detailed error codes.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="ug_mcu_functional_dep_schm"></a>
SchM</h3>
<p>This implementation requires 1 level of exclusive access to guard critical sections. Invokes SchM_Enter_Mcu_MCU_EXCLUSIVE_AREA_0 (), SchM_Exit_Mcu_MCU_EXCLUSIVE_AREA_0 () to enter critical section and exit.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_functional_filestruct_top"></a>
File Structure</h2>
<div class="image">
<img src="mcu_file_structure.png" alt="mcu_file_structure.png"/>
<div class="caption">
Detailed Directory Structure</div></div>
<ol type="1">
<li>Driver implemented by : <a class="el" href="Mcu_8h.html" title="This file contains interface header for MCU MCAL driver.">Mcu.h</a>, Mcu.c, Mcu_Priv.c and Mcu_Priv.h</li>
</ol>
<h1>Example Application :</h1>
<ul>
<li>There is one example application provided: mcu_app. Please refer to below directory structures.</li>
<li>Config files for mcu_app are located along with other applications' demo configs at /workarea/mcusw/mcal_drv/mcal/example/Mcu/mcu_app/Mcu_Demo_Cfg.</li>
<li><a class="el" href="Mcu__Cfg_8h.html" title="This file contains generated pre compile configuration file for MCU MCAL driver.">Mcu_Cfg.h</a>: Contains static configuration of this module.</li>
<li>Mcu_Cfg.c: Shall implement the generated configuration for pre-compile variant.</li>
<li>Mcu_PBcfg.c: Shall implement the generated configuration for post-build variant</li>
<li>McuApp_Startup.c and McuApp_Startup.h: Shall implement the start-up code sequence and register interrupts.</li>
<li>McuApp.c and McuApp.h: Shall implement the example application that demonstrates the use of the driver</li>
</ul>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_error_top"></a>
Error Handling</h1>
<hr/>
 <h2><a class="anchor" id="ug_mcu_error_dev"></a>
Development Error Reporting</h2>
<p>Development errors are reported to the DET using the service Det_ReportError(), when enabled. The driver interface (<a class="el" href="Mcu_8h.html" title="This file contains interface header for MCU MCAL driver.">Mcu.h</a> <a class="el" href="ug_mcu_top.html#ug_mcu_functional_filestruct_top">File Structure</a>) lists the SID.</p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_error_codes"></a>
Error codes</h2>
<table class="doxtable">
<tr>
<td><em><b> Type of Error </b></em> </td><td><em><b> Related Error code </b></em> </td><td><em><b> Value (Hex)</b></em>  </td></tr>
<tr>
<td>API service called with wrong configuration parameter  </td><td>MCU_E_PARAM_CONFIG  </td><td>0x0A   </td></tr>
<tr>
<td>API service used with wrong clock value  </td><td>MCU_E_PARAM_CLOCK  </td><td>0x0B   </td></tr>
<tr>
<td>API service used with wrong mode  </td><td>MCU_E_PARAM_MODE  </td><td>0x0C   </td></tr>
<tr>
<td>API service called with invalid/wrong RAM section  </td><td>MCU_E_PARAM_RAMSECTION  </td><td>0x0D   </td></tr>
<tr>
<td>API service is called while PLL is not locked  </td><td>MCU_E_PLL_NOT_LOCKED  </td><td>0x0E   </td></tr>
<tr>
<td>Mcu Driver API service is called before initialization of MCU Driver  </td><td>MCU_E_UNINIT  </td><td>0x0F   </td></tr>
<tr>
<td>API service is called with NULL/Wrong pointer  </td><td>MCU_E_PARAM_POINTER  </td><td>0x10   </td></tr>
<tr>
<td>Initialization of the MCU Driver Failed  </td><td>MCU_E_INIT_FAILED  </td><td>0x11   </td></tr>
</table>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_api_top"></a>
API Description</h1>
<p>The AUTOSAR BSW MCU Driver specification details the APIs required for Mcu Driver. Please refer to ( Please refer to CSP for Design Document ) for detailed API description. APIs which are not supported or are implemented with restriction , please refer to (<a class="el" href="ug_mcu_top.html#ug_mcu_functional_cfg_v">Variance / Deviation from the specification</a>).</p>
<p><a class="el" href="group__MCAL__MCU__API.html">Refer API Documentation for details</a></p>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_eg_top"></a>
Example Application</h1>
<h2>McuApp</h2>
<p>The example application demonstrate use of CLOCK based Mcu module, the list below identifies key steps performed the example. The configuration file is present at (<a class="el" href="ug_mcu_top.html#ug_mcu_functional_filestruct_top">File Structure</a>)</p>
<p>To run the mcu_app:</p>
<p>Please refer to section (<a class="el" href="ug_mcu_top.html#ug_mcu_functional_cfg_build">Build and Running the Example Application</a>)</p>
<ul>
<li>McuApp_Startup ()<ul>
<li>Mcu_CBK_Function is called with the configurations.<ul>
<li>Calls Sciclient APIs for Clock requests and setting frequency</li>
</ul>
</li>
</ul>
</li>
<li>Mcu_Init ()<ul>
<li>Called with module configuration as configured in the tresos tool</li>
</ul>
</li>
<li>Mcu_InitClock ()<ul>
<li>Called with clocksetting as configured in the tresos tool</li>
</ul>
</li>
<li>Mcu_GetResetReason ()<ul>
<li>Fetches the reset reason</li>
</ul>
</li>
<li>Mcu_ClearResetReason ()</li>
<li>Mcu_PerformReset ()<ul>
<li>Performs the reset according to the reset type configured in the tresos tool</li>
</ul>
</li>
<li>Checks for error status, stack corruption and prints result</li>
</ul>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_eg_log"></a>
Example Log</h2>
<pre class="fragment">    McuApp: Sample Application - STARTS !!!

    MCU MCAL Version Info
    ---------------------
    Vendor ID           : 44
    Module ID           : 101
    SW Major Version    : 9
    SW Minor Version    : 0
    SW Patch Version    : 0

    Module clock request successful !!!
    Module clock frequency set. Module = 172 , Freq = 80000000 !!!
    Module clock request successful !!!
    Module clock frequency set. Module = 173 , Freq = 80000000 !!!
    Module clock request successful !!!
    Module clock frequency set. Module = 252 , Freq = 125000000 !!!
    MCU Reset Reason:4 
    MCU Reset Reason Raw Value:0x100000 
    MCU Stack Usage: 2860 bytes
    MCU_APP: MCU Test Passed!!!</pre><p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_ref_top"></a>
References</h1>
<ul>
<li><a class="el" href="design_mcu_top.html">Design Page</a></li>
<li><a href="https://www.autosar.org/fileadmin/user_upload/standards/classic/4-3/AUTOSAR_SWS_MCUDriver.pdf">AUTOSAR Spec : Internet Link</a></li>
</ul>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h2><a class="anchor" id="ug_mcu_note"></a>
NOTE:</h2>
<ul>
<li>Clock source ID should be selected as per the below documents. Input clock/Input muxed clock to be selected for the respective peripheral.<ul>
<li>[Clocks :J721E] <a href="https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j721e/clocks.html">https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j721e/clocks.html</a></li>
<li>[Clocks :J7200] <a href="https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j7200/clocks.html">https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j7200/clocks.html</a></li>
<li>[Clocks :J721S2] <a href="https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j721s2/clocks.html">https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j721s2/clocks.html</a></li>
<li>[Clocks :J784S4] <a href="https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j784s4/clocks.html">https://software-dl.ti.com/tisci/esd/latest/5_soc_doc/j784s4/clocks.html</a></li>
</ul>
</li>
</ul>
<p><a class="el" href="ug_mcu_top.html#ug_mcu_intro">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ug_mcu_rev_hist"></a>
Document Revision History</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Revision  </th><th class="markdownTableHeadNone">Date  </th><th class="markdownTableHeadNone">Author  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Status   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.1  </td><td class="markdownTableBodyNone">23 August 2022  </td><td class="markdownTableBodyNone">Rohit Tiwari  </td><td class="markdownTableBodyNone">First version  </td><td class="markdownTableBodyNone">Pending Review   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.2  </td><td class="markdownTableBodyNone">24 August 2022  </td><td class="markdownTableBodyNone">Rohit Tiwari  </td><td class="markdownTableBodyNone">Review comments fixed  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.3  </td><td class="markdownTableBodyNone">26 Jun 2023  </td><td class="markdownTableBodyNone">Lavanya C  </td><td class="markdownTableBodyNone">Updated module name, clock ids and example log  </td><td class="markdownTableBodyNone">Approved   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="mcal_ug_top.html">MCAL Module User Guide</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
