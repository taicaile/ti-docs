

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.17. SDK 8.6 -&gt; SDK 9.0 Migration Guide &mdash; Processor SDK RTOS J721S2</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Processor SDK RTOS J721S2" href="index.html"/>
        <link rel="up" title="9. Developer Notes" href="developer_notes.html"/>
        <link rel="next" title="9.18. Latest FAQs on TDA4" href="developer_notes_tda4_latest_faqs.html"/>
        <link rel="prev" title="9.16. Running SDE and DOF for 2M-Pixel Input" href="developer_notes_dmpac.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  <header id="tiHeader">
    <div class="top">
      <ul>
        <li id="top_logo">
          <a href="http://www.ti.com">
            <img src="_static/img/ti_logo.png"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav"></div>
  </header>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Processor SDK RTOS J721S2
          

          
          </a>

          
            
            
              <div class="version">
                09_00_01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_j721s2.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="firmware_builder.html">3. AM68A Firmware Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk_components_j721s2.html">4. SDK Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">5. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="evm_setup_j721s2.html">6. EVM Setup for J721S2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ccs_setup_j721s2.html">7. CCS Setup for J721S2</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasheet_sdk_j721s2.html">8. Data Sheet</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer_notes.html">9. Developer Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="developer_notes_concerto.html">9.1. Understanding concerto makefile system</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_bootloaders.html">9.2. Understanding bootloaders in Processor SDK J721S2 (RTOS/Linux)</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_mcu1_0_sysfw.html">9.3. MCU1_0 Application Development with SYSFW</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_ipc.html">9.4. Developing IPC applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_enet_j721s2.html">9.5. Developing Ethernet based applications with Linux + RTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_cptracer.html">9.6. System Traffic Profiling using CPTracer on J7</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_security_build.html">9.7. Developing with High Security Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_psdkla.html">9.8. Using Processor SDK Linux with Processor SDK RTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_memory_map.html">9.9. Understanding and updating SDK memory map for J721S2</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_tidl.html">9.10. Developing deep learning applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_hwa.html">9.11. Developing HW accelerator applications with OpenVX</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_image_sensor.html">9.12. Adding new image sensor to PSDK RTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_ddr_inline_ecc.html">9.13. Enabling TI’s inline ECC for DDR</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_display_resolution.html">9.14. Changing Display Resolution in Vision Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_dma_kernel.html">9.15. Enabled block-based memory access in OpenVX kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_dmpac.html">9.16. Running SDE and DOF for 2M-Pixel Input</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">9.17. SDK 8.6 -&gt; SDK 9.0 Migration Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sdk-8-6-component-level-structure">9.17.1. SDK 8.6 Component-Level Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sdk-9-0-component-level-structure">9.17.2. SDK 9.0 Component-Level Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-changes-in-sdk-9-0">9.17.3. Additional Changes in SDK 9.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer_notes_tda4_latest_faqs.html">9.18. Latest FAQs on TDA4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documentation_tarball.html">10. Documentation Tarball</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Processor SDK RTOS J721S2</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="developer_notes.html"><span class="section-number">9. </span>Developer Notes</a> &raquo;</li>
      
    <li><span class="section-number">9.17. </span>SDK 8.6 -&gt; SDK 9.0 Migration Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sdk-8-6-sdk-9-0-migration-guide">
<span id="migration-guide"></span><h1><span class="section-number">9.17. </span>SDK 8.6 -&gt; SDK 9.0 Migration Guide<a class="headerlink" href="#sdk-8-6-sdk-9-0-migration-guide" title="Permalink to this headline">¶</a></h1>
<p>There have been several changes introduced in the SDK 9.0.  This document provides a migration guide for understanding these changes.</p>
<div class="section" id="sdk-8-6-component-level-structure">
<h2><span class="section-number">9.17.1. </span>SDK 8.6 Component-Level Structure<a class="headerlink" href="#sdk-8-6-component-level-structure" title="Permalink to this headline">¶</a></h2>
<p>The below diagram illustrates the structure of the SDK prior to 9.0.  The Imaging, TIDL, TIOVX and vision apps components had several
interdependencies due to the location of the utils and OpenVX extension nodes.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="_images/sdk_08_06_structure.png" src="_images/sdk_08_06_structure.png" />
</div>
</div></blockquote>
</div>
<div class="section" id="sdk-9-0-component-level-structure">
<h2><span class="section-number">9.17.2. </span>SDK 9.0 Component-Level Structure<a class="headerlink" href="#sdk-9-0-component-level-structure" title="Permalink to this headline">¶</a></h2>
<p>In order to decouple these interdependencies, the SDK was restructured in 9.0 as per the following diagram.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="_images/sdk_09_00_structure.png" src="_images/sdk_09_00_structure.png" />
</div>
</div></blockquote>
<p>A summary of these changes are provided below.</p>
<ul>
<li><p>The nodes which correspond to a given component were split out from TIOVX and moved into the corresponding component.
For more information about these nodes and their API’s, please reference the user guide of the respective components.</p>
<blockquote>
<div><ul>
<li><p>The following VHWA nodes were moved into the “Imaging” component</p>
<blockquote>
<div><ul class="simple">
<li><p>VISS Node</p></li>
<li><p>MSC Nodes</p></li>
<li><p>LDC Nodes</p></li>
<li><p>NF Nodes</p></li>
<li><p>DOF Node</p></li>
<li><p>DOF Visualize Node</p></li>
<li><p>SDE Node</p></li>
</ul>
</div></blockquote>
</li>
<li><p>The TIDL and TVM nodes were moved into the “TIDL” component</p></li>
<li><p>A new component called “video_io” was created and the following nodes were moved into this component.</p>
<blockquote>
<div><ul class="simple">
<li><p>Capture Node</p></li>
<li><p>CSITX Node</p></li>
<li><p>Display Node</p></li>
<li><p>DSS M2M Node</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>The utils which previously existed in vision_apps were split across multiple components as described below:</p>
<blockquote>
<div><ul class="simple">
<li><p>The utils which components depend on were split into a new repo called “app_utils”.  The specific utils layers
are called out on the diagram.</p></li>
<li><p>The imaging-specific components were moved into the “Imaging” component.  These specific utils layers
are also called out on the diagram.</p></li>
<li><p>Finally, several of the utils layers are only dependencies of the apps themselves.  These utils remain in vision_apps.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Due to these changes, the files to include if using a particular OpenVX extension node will change as described below.</p>
<blockquote>
<div><ul>
<li><p>Prior to 9.0, the tivx.h header file below would also include the OpenVX extension node definitions as well.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;TI/tivx.h&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>In 9.0, each of these extension node header files need to be included separately.  For instance, if including the
display node, this can be done by including the following files.  (Note: the vision_apps can serve as reference for
how these can be included.)</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;TI/video_io_display.h&gt;</span>
<span class="c1">#include &lt;TI/tivx.h&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Prior to 9.0, the OpenVX conformance tests and TIOVX custom node tests were all contained within a single executable.
Starting in 9.0, there are additional executables created which allow component-specific test runs to be completed.
The new executables are listed and described below:</p>
<blockquote>
<div><ul class="simple">
<li><p>vx_app_conformance_core: These are TIOVX-framework tests along with the Khronos-supplied conformance tests.</p></li>
<li><p>vx_app_conformance_hwa: This includes tests for the VPAC/DMPAC HWA nodes.</p></li>
<li><p>vx_app_conformance_tidl: This includes tests for the TIDL/TVM nodes.</p></li>
<li><p>vx_app_conformance_video_io: This includes tests for the Capture/CSITX/DSS/DSS M2M nodes.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="additional-changes-in-sdk-9-0">
<h2><span class="section-number">9.17.3. </span>Additional Changes in SDK 9.0<a class="headerlink" href="#additional-changes-in-sdk-9-0" title="Permalink to this headline">¶</a></h2>
<p>Along with these changes, there have been some additional changes as detailed below:</p>
<ul>
<li><p>SDK Builder</p>
<blockquote>
<div><ul>
<li><p>Prior to SDK 9.0, the SDK components were built from the vision_apps projects.  Starting in 9.0, there is a new “sdk_builder” component,
which serves as the location where full and component-level SDK builds are made.</p>
<blockquote>
<div><ul>
<li><p>Full SDK builds can be done with the below commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>sdk_builder
./make_sdk.sh
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Top-level component builds will also require the sdk_builder location as well.  For instance, if building the imaging component, you can run
the below commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>sdk_builder
make<span class="w"> </span>imaging
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Similarly, the commonly used scripts for formatting SD cards, creating SD cards, installing test data, etc., are now located in the “sdk_builder”
component as opposed to the “psdk_rtos” component from previous SDK’s.</p></li>
<li><p>The build flags that have previously been distributed across the SDK are now consolidated into 2 files in sdk_builder.  These are called “build_flags.mak”
and “vision_apps_build_flags.mak”.  The “build_flags.mak” are common across the full SDK, while the “vision_apps_build_flags.mak” are specific only to
vision_apps.</p></li>
<li><p>The concerto project is now located within the SDK builder directory.  This was previously distributed across each project that uses concerto.  These projects
now simply reference a common concerto project within SDK builder</p></li>
<li><p>Finally, the sdk_builder component contains a file called “tools_path.mak” which contains a consolidated location of tools paths which are used across
the SDK.  Prior to SDK 9.0, these paths were distributed across multiple component “tools_path” files.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>External Dependencies</p>
<blockquote>
<div><ul class="simple">
<li><p>A number of the external dependencies have been updated from 8.6 to 9.0.  The below table summarizes the updated versions.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 29%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>SDK 8.6</p></th>
<th class="head"><p>SDK 9.0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Host OS Support</p></td>
<td><p>Ubuntu 18.04</p></td>
<td><p>Ubuntu 22.04</p></td>
</tr>
<tr class="row-odd"><td><p>Host GCC Version (*)</p></td>
<td><p>GCC5</p></td>
<td><p>GCC11</p></td>
</tr>
<tr class="row-even"><td><p>Linux Kernel Version</p></td>
<td><p>5.10</p></td>
<td><p>6.1</p></td>
</tr>
<tr class="row-odd"><td><p>Yocto Version</p></td>
<td><p>Dunfell</p></td>
<td><p>Kirkstone</p></td>
</tr>
<tr class="row-even"><td><p>Target Linux GCC Compiler Version</p></td>
<td><p>GCC 9.2</p></td>
<td><p>GCC 11.3</p></td>
</tr>
<tr class="row-odd"><td><p>TI ARM LLVM Version</p></td>
<td><p>1.3.0.LTS</p></td>
<td><p>2.3.1.LTS</p></td>
</tr>
</tbody>
</table>
<p>(*) Used only in add-on package</p>
<ul>
<li><p>The externally downloaded tools that are used along with the SDK and are downloaded as a part of the setup script, such as the compilers, are now installed
into the ${HOME}/ti location.  For example, the GCC Linux compiler will be be downloaded and installed to the below location.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/home/&lt;user&gt;/ti/arm-gnu-toolchain-11.3.rel1-x86_64-aarch64-none-linux-gnu
</pre></div>
</div>
</div></blockquote>
<p>Prior to SDK 9.0, these were installed into the same directory level as the SDK itself.  This new location aligns more closely with other SDK’s distributed by TI.</p>
</li>
<li><p>Certain external dependencies were previously packaged in the PSDK RTOS installer package that are now downloaded as a part of the setup script.  These packages
are listed below:</p>
<blockquote>
<div><ul class="simple">
<li><p>TI CGT ARM LLVM</p></li>
<li><p>TI CGT C7X</p></li>
<li><p>TI CGT C6X (J721E-only)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Vision Apps Carveout</p>
<blockquote>
<div><ul class="simple">
<li><p>The vision apps carveout prior to 9.0 for J721S2/J784S4 was in the 32 bit address (low mem) region.</p></li>
<li><p>In 9.0, this carveout is now located in the high mem region, requiring more than 32 bit addressing.</p></li>
<li><p>The main reason for this was to enable zero memcpy buffer exchange with the codec carveout region.</p></li>
<li><p>In order to support this, the R5F’s are using the RAT to translate the memory addresses into a 32 bit region.</p></li>
<li><p>Please refer to the memory map of the respective SoC’s for more information about the exact locations of these regions.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>As of the 9.0 release, there are two separate images per SoC which can be used with this package.  These can be used within the SDK
by setting the TISDK_IMAGE environment variable to either “adas” or “edgeai” as shown below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">TISDK_IMAGE</span><span class="o">=</span>&lt;image_name&gt;
</pre></div>
</div>
<p>These images are listed and described in the table below.</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 36%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>tisdk-adas-image</p></th>
<th class="head"><p>tisdk-edgeai-image</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GP vs HS-FS</p></td>
<td><p>GP devices</p></td>
<td><p>HS-FS devices</p></td>
</tr>
<tr class="row-odd"><td><p>EVM vs SK</p></td>
<td><p>EVM</p></td>
<td><p>SK</p></td>
</tr>
<tr class="row-even"><td><p>Capture/Display Core</p></td>
<td><p>R5F</p></td>
<td><p>A72</p></td>
</tr>
<tr class="row-odd"><td><p>SDK Device Type</p></td>
<td><p>J7-prefixed SDK’s</p></td>
<td><p>AM-prefixed SDK’s</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developer_notes_tda4_latest_faqs.html" class="btn btn-neutral float-right" title="9.18. Latest FAQs on TDA4" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="developer_notes_dmpac.html" class="btn btn-neutral" title="9.16. Running SDE and DOF for 2M-Pixel Input" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2022</a>, Texas Instruments Incorporated. All rights reserved. <br>
      <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
        });

      var menuHeight = window.innerHeight;

      var contentOffset = $(".wy-nav-content-wrap").offset();
      var contentHeight = $(".wy-nav-content-wrap").height();
      var contentBottom = contentOffset.top + contentHeight;

      function setNavbarTop() {
          var scrollTop = $(window).scrollTop();
          var maxTop = scrollTop + menuHeight;

          // If past the header
          if (scrollTop > contentOffset.top && maxTop < contentBottom) {
            stickyTop = scrollTop - contentOffset.top;
          } else if (maxTop > contentBottom) {
            stickyTop = scrollTop - contentOffset.top - (maxTop - contentBottom);
          } else {
            stickyTop = 0;
          }

          $(".wy-nav-side").css("top", stickyTop);
      }

      $(document).ready(function() {
        setNavbarTop();
        $(window).scroll(function () {
          setNavbarTop();
        });
      });
  </script>
   

</body>
</html>